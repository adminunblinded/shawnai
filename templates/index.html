<!DOCTYPE html>
<html>
  <head>
    <title>Audio Recording and Transcription</title>
    <script>
      let stream;

      function startRecording() {
        fetch('/record', {
          method: 'POST',
        })
        .then(response => response.text())
        .then(result => {
          console.log(result);
        })
        .catch(error => {
          console.error('Error:', error);
        });
      }

      function stopRecording() {
        fetch('/stop', {
          method: 'POST',
        })
        .then(response => response.blob())
        .then(blob => {
          const audio = new Audio();
          audio.src = URL.createObjectURL(blob);
          audio.play();
        })
        .catch(error => {
          console.error('Error:', error);
        });
      }
    </script>
  </head>
  <body>
    <h1>Audio Recording and Transcription</h1>
    <button onclick="startRecording()">Record</button>
    <button onclick="stopRecording()">Stop</button>
    <audio id="audio" controls></audio>
  </body>
</html>
